(this.webpackJsonpwahnilogin=this.webpackJsonpwahnilogin||[]).push([[0],{109:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},139:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},241:function(e,t,n){},242:function(e,t,n){},243:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(2),o=n.n(i),s=n(97),r=n.n(s),a=(n(109),n(3)),l=n(6),d=n(48);n(110),n(112),n(244);d.a.apps.length||d.a.initializeApp({apiKey:"AIzaSyBSjXNfUFdgJn3qCJPG3qWd5WEBTBKCICU",authDomain:"wahnilogin.firebaseapp.com",projectId:"wahnilogin",storageBucket:"wahnilogin.appspot.com",messagingSenderId:"571694906479",appId:"1:571694906479:web:908412aa21b16453d7619a"});var u=d.a,j=o.a.createContext({}),b=j.Provider;j.Consumer;function h(e){var t=Object(i.useState)({loggedIn:!1}),n=Object(a.a)(t,2),o=n[0],s=n[1],r=Object(i.useState)(null),d=Object(a.a)(r,2),j=d[0],h=d[1],x=Object(i.useState)(null),O=Object(a.a)(x,2),p=O[0],f=O[1],m=Object(i.useState)(!0),w=Object(a.a)(m,2),v=w[0],g=w[1],C=Object(i.useState)(!1),N=Object(a.a)(C,2),k=N[0],S=N[1],y=Object(i.useState)(!1),T=Object(a.a)(y,2),q=T[0],B=T[1];return Object(i.useEffect)((function(){var e=(g(!0),B(!0),S(!0),u.auth().onAuthStateChanged((function(e){e?(s({loggedIn:!0,email:e.email,name:e.displayName,id:e.uid,number:e.phoneNumber,photoURL:e.photoURL}),g(!1),u.firestore().collection("rankings").where("uid","==",e.uid).orderBy("attendedAt","desc").limit(1).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id}))})),h(t),S(!1)}),(function(e){console.log("user last score unable to fetch",e),k(!1)})),u.firestore().doc("users/".concat(e.uid)).onSnapshot((function(e){var t=e.data();f(t),B(!1)}),(function(e){console.log("Unable to fetch user Details",e),B(!1)}))):(s({loggedIn:!1}),h(null),f(null),g(!1),B(!1),S(!1))})));return function(){e()}}),[]),Object(c.jsx)(b,{value:{user:o,userScores:j,userDetails:p,userLoading:v,userScoresLoading:k,userDetailsLoading:q},children:e.children})}n(114);var x=function(e){return Object(c.jsx)("div",{onClick:e.onClick,className:"linkContainer",children:Object(c.jsx)("div",{className:"linkContain wahniColor",children:Object(c.jsx)("p",{style:{paddingLeft:"25px"},children:e.children})})})};n(115);var O=function(e){var t=e.width,n=e.borderWidth;return Object(c.jsx)("div",{style:{height:t,width:t,borderWidth:n},className:"loader"})};var p=function(e){var t=Object(i.useContext)(j),n=t.user,o=t.userScores,s=t.userDetails,r=t.userDetailsLoading,l=Object(i.useState)(!1),d=Object(a.a)(l,2),b=d[0],h=d[1],p=Object(i.useState)(""),f=Object(a.a)(p,2),m=f[0],w=f[1],v=Object(i.useState)(""),g=Object(a.a)(v,2),C=g[0],N=g[1],k=Object(i.useState)(!1),S=Object(a.a)(k,2),y=S[0],T=S[1];return Object(i.useEffect)((function(){n&&!r&&void 0!==s&&null!==s.address&&void 0!==s.address&&(N(s.address),w(s.profession))}),[r]),Object(c.jsxs)("div",{className:"body fontMontserrat",children:[Object(c.jsxs)("div",{className:"cardOne wahniBgColor flexCenter",id:"profileHeight",children:[y?null:Object(c.jsxs)("div",{className:"profileBoxes profileBox1",children:[Object(c.jsx)("div",{children:null===n.name||void 0===n.name||""===n.name?Object(c.jsx)("p",{style:{fontSize:"24px"},children:Object(c.jsx)("b",{children:"Guest"})}):Object(c.jsxs)("p",{style:{fontSize:"24px"},children:[n.name,Object(c.jsx)("b",{children:n.name})]})}),Object(c.jsx)("div",{className:"editButtonContainer",children:Object(c.jsx)("img",{onClick:function(){return function(){var e=window.prompt("Enter your new name",n.name);null!==e&&e!==n.name&&(h(!0),u.auth().currentUser.updateProfile({displayName:e}).then((function(e){window.alert("Your Profile has been Updated"),h(!1)})).catch((function(e){window.alert("Unable to update",e),h(!1)})))}()},src:"https://www.iconsdb.com/icons/preview/white/edit-xxl.png",alt:"Edit Name"})}),Object(c.jsx)("div",{children:Object(c.jsx)("p",{id:"phoneNumber",children:n.number})})]}),y?Object(c.jsxs)("div",{className:"completeProfileInputContain",children:[Object(c.jsxs)("div",{className:"numberInputContainer",children:[Object(c.jsxs)("p",{children:["Profession ",Object(c.jsx)("b",{children:"or Qualification"})]}),Object(c.jsx)("input",{className:"numberInput fontMontserrat",value:m,onChange:function(e){return w(e.target.value)},placeholder:"e.g. Student / B.Tech",name:"mobile",required:!0})]}),Object(c.jsxs)("div",{style:{marginTop:"8px"},className:"numberInputContainer",children:[Object(c.jsxs)("p",{children:["Your ",Object(c.jsx)("b",{children:"Address"})]}),Object(c.jsx)("input",{className:"numberInput fontMontserrat",value:C,onChange:function(e){return N(e.target.value)},placeholder:"e.g. Kechery, Thrissur - P.O 680519",name:"mobile",required:!0})]}),Object(c.jsx)("div",{onClick:function(){b?window.alert("Updation in progress"):""!==C&&""!==m?C!==s.address||m!==s.profession?(h(!0),u.firestore().doc("users/".concat(n.id)).update({address:C,profession:m}).then((function(e){window.alert("Your profile has been Updated"),h(!1)})).catch((function(e){window.alert("Coudnot update your profile",e),h(!1)}))):window.alert("No changes detected"):window.alert("Both fields cannot be empty")},className:"updateProfileButton wahniColor",children:b?Object(c.jsx)(O,{borderWidth:"3px",width:"10px"}):Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Update"})," Profile"]})})]}):Object(c.jsxs)("div",{className:"profileBoxes profileBox2",children:[Object(c.jsxs)("div",{className:"profileBox2singleRow",children:[Object(c.jsxs)("p",{children:["Number of ",Object(c.jsx)("b",{children:"Tries"})]}),Object(c.jsx)("p",{children:Object(c.jsx)("b",{children:null!==o&&void 0!==o&&o.length>0?o[0].attempt:0})})]}),Object(c.jsxs)("div",{className:"profileBox2singleRow",children:[Object(c.jsxs)("p",{children:["High",Object(c.jsx)("b",{children:"score"})]}),Object(c.jsx)("p",{children:Object(c.jsx)("b",{children:null===s||void 0===s||null===s.highestScore&&void 0===s.highestScore?0:s.highestScore})})]})]}),Object(c.jsx)("img",{className:"logOutIcon",onClick:function(){u.auth().signOut()},src:"https://www.iconsdb.com/icons/preview/white/logout-xxl.png",alt:"Logout"})]}),Object(c.jsxs)(x,{onClick:function(){T(!y)},children:[Object(c.jsx)("b",{children:y?"View":"Update"})," Your Profile"]}),Object(c.jsxs)(x,{children:[Object(c.jsx)("b",{children:"Go to"})," Quiz"]})]})},f=n(7),m=n(58),w=n.n(m);n(71);var v=function(){var e=Object(i.useState)(!1),t=Object(a.a)(e,2),n=t[0],o=t[1];Object(i.useEffect)((function(){w.a.get("https://ipapi.co/json/").then((function(e){var t=e.data.country_calling_code.substring(1);x("".concat(t))})).catch((function(e){console.log(e)}))}),[]);var s=Object(i.useContext)(j),r=s.user,l=s.userLoading,d=Object(i.useState)(""),b=Object(a.a)(d,2),h=b[0],x=b[1],m=Object(f.g)(),v=function(){window.recaptchaVerifier=new u.auth.RecaptchaVerifier("recaptcha-container",{size:"normal",callback:function(e){o(!1),g()}})},g=function(e,t){o(!0),v();var n="+"+e,c=window.recaptchaVerifier;u.auth().signInWithPhoneNumber(n,c).then((function(e){console.log("get OTP initiated"),window.confirmationResult=e;var t=window.prompt("Password has been sent to your device");e.confirm(t).then((function(e){var t=u.auth().currentUser;null===t.displayName&&""!==t.displayName||m.push("/Quiz"),x("")})).catch((function(e){alert(e),window.location.reload()}))})).catch((function(e){alert(e),window.location.reload()}))};return r&&r.loggedIn?Object(c.jsx)(p,{completeProfile:function(e){u.auth().currentUser.updateProfile({displayName:e}).then((function(){m.push("/Quiz"),window.location.reload()}))},user:r,logout:function(){u.auth().signOut()}}):l?Object(c.jsx)("div",{className:"body flexCenter",children:Object(c.jsx)(O,{width:"50px",borderWidth:"5px"})}):Object(c.jsx)("div",{className:"body",children:Object(c.jsxs)("div",{className:"cardOne flexCenter cardOneAdd fontMontserrat",children:[Object(c.jsx)("div",{className:"blank100"}),Object(c.jsxs)("div",{className:"loginSection",children:[Object(c.jsx)("p",{className:"headerLogin fontMontserrat",children:"L O G I N"}),Object(c.jsxs)("div",{className:"numberInputContainer",children:[Object(c.jsxs)("p",{children:["enter ",Object(c.jsx)("b",{children:"mobile number"})]}),Object(c.jsx)("input",{className:"numberInput fontMontserrat",value:h,onChange:function(e){return x(e.target.value)},type:"number",placeholder:"e.g. 919564458759",name:"mobile",required:!0})]}),n?Object(c.jsx)("div",{className:"signInButton wahniBgColor flexCenter",type:"button",onClick:function(){window.confirm("Verification in progress. Are you sure you want to cancel ?")&&window.location.reload()},children:Object(c.jsx)(O,{width:"15px",borderWidth:"3px"})}):Object(c.jsx)("div",{className:"signInButton wahniBgColor flexCenter",type:"button",onClick:function(){return g(h)},children:"SIGN IN"})]}),Object(c.jsx)("div",{className:"flexCenter",id:"recaptcha-container"})]})})},g=n(10);n(139);var C=function(){return Object(c.jsx)("div",{children:Object(c.jsxs)("nav",{className:"navContainer",children:[Object(c.jsx)(g.b,{to:"/myAccount",className:"navLinks",children:"My Account"}),Object(c.jsx)(g.b,{to:"/Quiz",className:"navLinks",children:"Quiz"})]})})};var N=function(){var e=Object(i.useState)(""),t=Object(a.a)(e,2),o=(t[0],t[1],n(72),Object(i.useContext)(j));return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"WahniHome"}),Object(c.jsx)("button",{onClick:function(){console.log(o)},children:"fetch"})]})},k=n(31),S=n.n(k),y=n(44),T=(n(73),n(11));var q=function(e){var t=e.currentQuestion,n=e.nextQ,o=(e.submitQ,e.questions),s=e.user,r=e.userScores,l=Object(i.useState)(30),d=Object(a.a)(l,2),j=d[0],b=d[1],h=Object(i.useState)(!1),x=Object(a.a)(h,2),p=x[0],f=x[1],m=Object(i.useState)(!1),w=Object(a.a)(m,2),v=w[0],C=w[1],N=Object(i.useState)(!1),k=Object(a.a)(N,2),q=k[0],B=k[1],A=Object(i.useState)(!1),I=Object(a.a)(A,2),D=I[0],z=I[1],E=Object(i.useState)(!1),Q=Object(a.a)(E,2),H=Q[0],W=Q[1],L=Object(i.useState)(0),M=Object(a.a)(L,2),P=M[0],U=M[1];Object(i.useEffect)((function(){var e=0,t=setInterval((function(){p?clearInterval(t):(b((function(e){return e-1})),30===(e+=1)&&clearInterval(t))}),1e3);return setTimeout((function(){f(!0),b("TIME OUT")}),3e4),function(){return clearInterval(t)}}),[]);var R=Object(i.useState)([0,0,0,0,0]),F=Object(a.a)(R,2),Y=F[0],G=F[1],J=Object(i.useState)([]),V=Object(a.a)(J,2),K=V[0],_=V[1];function X(e,c){var i=Object(T.a)(K);i[c]=e,_(i);var s=t+1;s<o.length?n(s):(C(!0),z(!0),function(){Z.apply(this,arguments)}())}function Z(){return(Z=Object(y.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.forEach((function(e,t){u.firestore().doc("answers/".concat(e.id)).get().then((function(e){var n=e.data().answer;G((function(e){return[].concat(Object(T.a)(e.slice(0,t)),[n],Object(T.a)(e.slice(t+1,3)))})),t===o.length-1&&z(!1)})).catch((function(e){z(!1),window.alert("Error fetching answers from firestore")}))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){for(var e=[],t=0;t<o.length;t++)K[t]===Y[t]&&(U((function(e){return e+1})),e.push("correct"));z(!0),W(!0),B(!0),s&&s.loggedIn?function(e){if(s&&r.length>0){var t=r[0].score,n=function(){return 0===t?100*e:(e-t)/t*100},c=r[0].attempt+1;ee({uid:s.id,username:s.name,score:e,attempt:c,perecentageIncrease:n(),attendedAt:new Date}),e>t?u.firestore().doc("users/".concat(s.id)).update({highestScore:e,attempt:c,updatedAt:new Date}).then((function(e){W(!1),console.log("high score updated")})).catch((function(e){window.alert("unable to update your profile:",e),W(!1)})):W(!1)}else{var i=function(){return null===s.name||void 0===s.name||""===s.name?s.name:"Guest"};ee({uid:s.id,username:i(),score:e,attempt:1,perecentageIncrease:null,attendedAt:new Date});var o={username:s.name,uid:s.id,totalAttempts:1,highestScore:e,updatedAt:new Date};u.firestore().doc("users/".concat(s.id)).set(o).then((function(e){W(!1),console.log("new user details ADDED")})).catch((function(e){window.alert("Unable to update your Profile :",e),W(!1)}))}}(e.length):(window.alert("You are not logged In"),z(!1))}function ee(e){u.firestore().collection("rankings").add(e).then((function(e){console.log("added to rankings"),z(!1)})).catch((function(e){console.log("error"),window.alert("Error updating the rankings"),z(!1)}))}return v&&!q?Object(c.jsx)("div",{className:"flexContainFull flexCenter fontMontserrat",children:D?Object(c.jsx)(O,{width:"50px",borderWidth:"6px"}):Object(c.jsxs)("div",{className:"timeOutContainer",children:[Object(c.jsx)("p",{style:{fontSize:"24px",fontWeight:"bold"},children:"You have completed the Quiz"}),Object(c.jsx)("div",{className:"buttonOne wahniColor retryButton",onClick:function(){return $()},children:"Click to see Score"})]})}):!p||q||v?p&&q||q||v&&q?Object(c.jsx)("div",{className:"flexContainFull flexCenter",children:D||H?Object(c.jsx)(O,{width:"50px",borderWidth:"6px"}):Object(c.jsxs)("div",{className:"scoreContainer",children:[Object(c.jsx)("p",{style:{fontSize:"24px",fontWeight:"bold"},children:"Congratulations"}),Object(c.jsx)("p",{style:{fontSize:"18px"},children:"You scored"}),Object(c.jsxs)("div",{className:"scoreNumber",children:[Object(c.jsx)("p",{style:{fontSize:"40px",fontWeight:"bold"},children:P}),Object(c.jsxs)("p",{style:{display:"flex",alignItems:"center",marginTop:15,fontSize:"22px",fontFamily:"sans-serif",marginLeft:5},children:["/ ",o.length]})]}),Object(c.jsx)(g.b,{className:"link buttonOne wahniColor retryButton",to:"/Quiz",children:"Retry"})]})}):Object(c.jsxs)("div",{className:"flexContainFull fontMontserrat",children:[Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"question-count-timer",children:[Object(c.jsxs)("span",{className:"question-count",children:["#",t+1]}),Object(c.jsx)("div",{className:"timer",children:Object(c.jsx)("div",{children:j})})]}),Object(c.jsx)("div",{className:"questionHeadText",children:"Question"})]}),Object(c.jsxs)("div",{className:"question-and-answer-section",children:[Object(c.jsx)("div",{className:"question-text",children:o[t].questionText}),Object(c.jsx)("div",{className:"answer-section wahniColor",children:o[t].options.map((function(e){return Object(c.jsx)("div",{className:"buttonOne",id:"answerButton",onClick:function(){X(e,t)},children:e})}))})]})]}):Object(c.jsx)("div",{className:"flexContainFull flexCenter fontMontserrat",children:Object(c.jsxs)("div",{className:"timeOutContainer",children:[Object(c.jsx)("p",{style:{fontSize:"24px",fontWeight:"bold"},children:"TIMEOUT"}),Object(c.jsx)("div",{className:"buttonOne wahniColor retryButton",onClick:function(){return $()},children:"Click to see Score"})]})})};var B=function(){var e=n(72),t=Object(i.useContext)(j),o=t.user,s=t.userScores,r=t.userScoresLoading,d=t.userDetailsLoading,b=Object(i.useState)(""),h=Object(a.a)(b,2),x=h[0],p=h[1],m=Object(i.useState)(!0),w=Object(a.a)(m,2),v=w[0],g=w[1],C=Object(f.g)();function N(e,t){return Math.ceil(Math.random()*(t-e)+e)}function k(){return(k=Object(y.a)(S.a.mark((function t(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("started getting 1st document"),u.firestore().collection("questions").orderBy("createdAt","desc").limit(1).get().then((function(t){var n=[];if(t.forEach((function(e){n.push(Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id}))})),console.log("got 1st doc with index : ".concat(n[0].index)),n.length>0){var c=n[0].index,i=function(){return c<10||c<100?10:c<1e3?100:c<1e4?1e3:void 0};console.log("disvisible number : ".concat(i()));var o=Math.floor(c/i())+1;console.log("randomNumbersArrayLength: ".concat(o));var s=N(.5,o);console.log("random: ".concat(s)),s<o?(console.log("fetching docs less than multiple of 10"),u.firestore().collection("questions").where("index","<=",s*i()).limit(i()).get().then((function(t){console.log("number of docs fetched: ".concat(s*i()));var n=[];t.forEach((function(e){n.push(Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id}))}));for(var c=e(1,n.length-1),o=[c(),c(),c(),c(),c()],r=[],a=0;a<o.length;a++)console.log("added ".concat(a," questions with index ").concat(o[a])),r.push(n[o[a]]);p(r),g(!1)})).catch((function(e){window.alert("couldnt fetch questions")}))):(console.log("fetching docs after: index ".concat((s-1)*i()," ")),u.firestore().collection("questions").where("index",">=",(s-1)*i()).limit(i()).get().then((function(t){var n=[];if(t.forEach((function(e){n.push(Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id}))})),n.length<5)console.log("if fetched docs are low : ".concat(n.length)),u.firestore().collection("questions").where("index","<",(s-1)*i()).limit(i()).get().then((function(t){t.forEach((function(e){n.push(Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id}))})),console.log("fetched even more docs : ".concat(n.length));var c=e(1,n.length-1),i=[c(),c(),c(),c(),c()];console.log("randomeNumbers are: ".concat(i));for(var o=[],s=0;s<i.length;s++)o.push(n[i[s]]);p(o),g(!1)})).catch((function(e){C.push("/Quiz"),window.alert("couldnt fetch questions")}));else{console.log("if fetched docs are enough : ".concat(n.length));for(var c=e(1,n.length-1),o=[c(),c(),c(),c(),c()],r=[],a=0;a<o.length;a++)r.push(n[o[a]]);p(r),g(!1)}})).catch((function(e){C.push("/Quiz"),window.alert("couldnt fetch questions")})))}})).catch((function(e){window.alert("Unable to Reach backend",e)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(i.useEffect)((function(){g(!0),function(){k.apply(this,arguments)}()}),[]);var T=Object(i.useState)(0),B=Object(a.a)(T,2),A=B[0],I=B[1],D=Object(i.useState)(0),z=Object(a.a)(D,2),E=(z[0],z[1]),Q=Object(i.useState)(!1),H=Object(a.a)(Q,2),W=(H[0],H[1]);return o&&o.loggedIn?!o||v||r||d?o&&v||o&&r||o&&d?Object(c.jsx)("div",{className:"flexCenter body",children:Object(c.jsx)(O,{borderWidth:"5px",width:"50px"})}):void 0:Object(c.jsx)("div",{className:"body",children:Object(c.jsx)("div",{className:"questionDiv",children:Object(c.jsx)(q,{currentQuestion:A,nextQ:function(e){I(e)},submitQ:function(e){E(e),W(!0)},questions:x,user:o,userScores:s})})}):Object(c.jsx)(f.a,{to:"/myAccount"})};var A=function(){var e=Object(i.useContext)(j).user;return Object(c.jsx)("div",{className:"body",children:Object(c.jsx)("div",{className:"flex1 quizScreenContainer fontMontserrat",children:Object(c.jsxs)("div",{className:"linksContainer",children:[Object(c.jsxs)(g.b,{onClick:function(){e&&e.loggedIn||window.alert("Log in to attend the Quiz")},className:"singleLinkContainer link link1",to:"/Quiz/play",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{style:{fontSize:18,letterSpacing:"0.05em"},children:"Take the"}),Object(c.jsx)("p",{style:{fontSize:24,fontWeight:"bold"},children:"Quiz"})]}),Object(c.jsx)("img",{src:"https://www.iconsdb.com/icons/preview/white/play-xxl.png",alt:""})]}),e&&"zOOj1gwSb7WQA7dwMBgW2EYJOk52"===e.id?Object(c.jsxs)(g.b,{className:"singleLinkContainer link link1",to:"/Quiz/add",children:[Object(c.jsx)("div",{children:Object(c.jsx)("p",{style:{fontSize:24,fontWeight:"bold"},children:"Admin"})}),Object(c.jsx)("img",{src:"https://www.iconsdb.com/icons/preview/white/administrator-xxl.png",alt:""})," "]}):null,Object(c.jsxs)(g.b,{className:"singleLinkContainer link link2 wahniColor",to:"/Quiz/ranking",children:[Object(c.jsx)("p",{style:{paddingLeft:"25px",fontWeight:"bold"},children:"Leader"}),Object(c.jsx)("p",{children:"board"})]})]})})})};n(141);var I=function(){var e=Object(i.useState)([]),t=Object(a.a)(e,2),n=t[0],o=t[1],s=Object(i.useState)([]),r=Object(a.a)(s,2),d=r[0],j=r[1],b=Object(i.useState)([]),h=Object(a.a)(b,2),x=h[0],p=h[1],f=Object(i.useState)(!0),m=Object(a.a)(f,2),w=m[0],v=m[1],g=Object(i.useState)(!0),C=Object(a.a)(g,2),N=C[0],k=C[1],S=Object(i.useState)(!1),y=Object(a.a)(S,2),T=y[0],q=y[1],B=Object(i.useState)(!1),A=Object(a.a)(B,2),I=A[0],D=A[1],z=Object(i.useState)(!1),E=Object(a.a)(z,2),Q=E[0],H=E[1],W=Object(i.useState)(!1),L=Object(a.a)(W,2),M=L[0],P=L[1],U=Q?"rankCard rankCardHeight400 wahniBgColor":"rankCard rankCardHeight60",R=Q?"rankHeaderDiv":"rankHeaderDiv rankHeaderDivClick wahniColor",F=Q?"rankTable":"hide-section1",Y=I?"rankCard rankCardHeight400 wahniBgColor":"rankCard rankCardHeight60",G=I?"rankHeaderDiv":"rankHeaderDiv rankHeaderDivClick wahniColor",J=I?"rankTable":"rankTable hide-section1",V=M?"rankCard rankCardHeight400 wahniBgColor":"rankCard rankCardHeight60",K=M?"rankHeaderDiv":"rankHeaderDiv rankHeaderDivClick wahniColor",_=M?"rankTable":"rankTable hide-section1",X=Object(i.useState)([]),Z=Object(a.a)(X,2),$=(Z[0],Z[1],Object(i.useState)([])),ee=Object(a.a)($,2);return ee[0],ee[1],Object(c.jsxs)("div",{className:"body fontMontserrat",children:[Object(c.jsxs)("div",{className:U,children:[Object(c.jsx)("div",{className:R,onClick:function(e){H(!0),D(!1),P(!1),n.length<1?(v(!0),u.firestore().collection("rankings").orderBy("score","desc").limit(5).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id}))})),console.log(t),v(!1),o(t)}),(function(e){window.alert("Unable to get rankings",e)}))):v(!1)},children:Object(c.jsxs)("p",{children:["Top ",Object(c.jsx)("b",{children:"Scores"})]})}),w?Object(c.jsx)("div",{className:F,children:Object(c.jsx)("div",{className:"flexCenter",children:Object(c.jsx)(O,{borderWidth:"5px",width:"20px"})})}):Object(c.jsx)("div",{className:F,children:n.map((function(e,t){return Object(c.jsxs)("div",{className:"singleRankRow",children:[Object(c.jsx)("div",{className:"nameText rankTextStyle",children:e.username}),Object(c.jsx)("div",{className:"scoreText rankTextStyle",children:e.score})]})}))})]}),Object(c.jsxs)("div",{className:Y,children:[Object(c.jsx)("div",{className:G,onClick:function(e){H(!1),P(!1),D(!0),d.length<1?(k(!0),u.firestore().collection("rankings").orderBy("attempt","desc").limit(5).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id}))})),console.log(t),k(!1),j(t)}),(function(e){window.alert("Unable to get rankings",e)}))):k(!1)},children:Object(c.jsxs)("p",{children:["Most ",Object(c.jsx)("b",{children:"Attempts"})]})}),N?Object(c.jsx)("div",{className:J,children:Object(c.jsx)("div",{className:"flexCenter",children:Object(c.jsx)(O,{borderWidth:"5px",width:"20px"})})}):Object(c.jsx)("div",{className:J,children:d.map((function(e,t){return Object(c.jsxs)("div",{className:"singleRankRow",children:[Object(c.jsx)("div",{className:"nameText rankTextStyle",children:e.username}),Object(c.jsx)("div",{className:"scoreText rankTextStyle",children:e.attempt})]})}))})]}),Object(c.jsxs)("div",{className:V,children:[Object(c.jsx)("div",{className:K,onClick:function(e){H(!1),P(!0),D(!1),x.length<1?(q(!0),u.firestore().collection("rankings").orderBy("perecentageIncrease","desc").limit(5).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id}))})),console.log(t),q(!1),p(t)}),(function(e){window.alert("Unable to get rankings",e)}))):q(!1)},children:Object(c.jsxs)("p",{children:["Top ",Object(c.jsx)("b",{children:"Performers"})]})}),T?Object(c.jsx)("div",{className:_,children:Object(c.jsx)("div",{className:"flexCenter",children:Object(c.jsx)(O,{borderWidth:"5px",width:"20px"})})}):Object(c.jsx)("div",{className:_,children:x.map((function(e,t){return Object(c.jsxs)("div",{className:"singleRankRow",children:[Object(c.jsx)("div",{className:"nameText rankTextStyle",children:e.username}),Object(c.jsx)("div",{className:"scoreText rankTextStyle",children:e.perecentageIncrease})]})}))})]})]})},D=o.a.createContext({}),z=D.Provider;D.Consumer;function E(e){var t=Object(i.useState)([{questionText:"What is the capital of France?",answerOptions:[{answerText:"New York",isCorrect:!1},{answerText:"London",isCorrect:!1},{answerText:"Paris",isCorrect:!0},{answerText:"Dublin",isCorrect:!1}]},{questionText:"Who is CEO of Tesla?",answerOptions:[{answerText:"Jeff Bezos",isCorrect:!1},{answerText:"Elon Musk",isCorrect:!0},{answerText:"Bill Gates",isCorrect:!1},{answerText:"Tony Stark",isCorrect:!1}]},{questionText:"The iPhone was created by which company?",answerOptions:[{answerText:"Apple",isCorrect:!0},{answerText:"Intel",isCorrect:!1},{answerText:"Amazon",isCorrect:!1},{answerText:"Microsoft",isCorrect:!1}]},{questionText:"How many Harry Potter books are there?",answerOptions:[{answerText:"1",isCorrect:!1},{answerText:"4",isCorrect:!1},{answerText:"6",isCorrect:!1},{answerText:"7",isCorrect:!0}]},{questionText:"How many Harry Potter books are there?",answerOptions:[{answerText:"1",isCorrect:!1},{answerText:"4",isCorrect:!1},{answerText:"6",isCorrect:!1},{answerText:"7",isCorrect:!0}]},{questionText:"What is the capital of France?",answerOptions:[{answerText:"New York",isCorrect:!1},{answerText:"London",isCorrect:!1},{answerText:"Paris",isCorrect:!0},{answerText:"Dublin",isCorrect:!1}]},{questionText:"Who is CEO of Tesla?",answerOptions:[{answerText:"Jeff Bezos",isCorrect:!1},{answerText:"Elon Musk",isCorrect:!0},{answerText:"Bill Gates",isCorrect:!1},{answerText:"Tony Stark",isCorrect:!1}]},{questionText:"The iPhone was created by which company?",answerOptions:[{answerText:"Apple",isCorrect:!0},{answerText:"Intel",isCorrect:!1},{answerText:"Amazon",isCorrect:!1},{answerText:"Microsoft",isCorrect:!1}]},{questionText:"How many Harry Potter books are there?",answerOptions:[{answerText:"1",isCorrect:!1},{answerText:"4",isCorrect:!1},{answerText:"6",isCorrect:!1},{answerText:"7",isCorrect:!0}]}]),n=Object(a.a)(t,2),o=n[0],s=n[1];return Object(c.jsx)(z,{value:[o,s],children:e.children})}var Q=o.a.createContext({}),H=Q.Provider;Q.Consumer;function W(e){var t=Object(i.useState)([]),n=Object(a.a)(t,2),o=n[0],s=n[1];return Object(i.useEffect)((function(){u.firestore().collection("questions").orderBy("createdAt","desc").limit(5).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id}))})),s(t)}))}),[]),Object(c.jsx)(H,{value:[o,s],children:e.children})}n(74),n(142);var L=function(e){var t=e.allQs,n=(e.setAllQs,Object(i.useState)([])),o=Object(a.a)(n,2),s=o[0],r=o[1],l=Object(i.useState)(!1),d=Object(a.a)(l,2),j=d[0],b=d[1],h=function(e,t){return e===t?"answerButton2":"answerButton1"};function x(){return Object(c.jsx)("div",{className:"questonsSubMainDiv",children:t?t.map((function(e,t){return Object(c.jsx)("div",{className:"questionDiv1",children:Object(c.jsxs)("div",{className:"flexContainFull fontMontserrat",children:[Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"questionHeadText1",children:["Question",Object(c.jsx)("img",{onClick:function(){return t=e.id,u.firestore().doc("questions/".concat(t)).delete().then((function(e){return console.log("question deleted")})).catch((function(e){return console.log(e)})),u.firestore().doc("answers/".concat(t)).delete().then((function(e){return console.log("answer deleted")})).catch((function(e){return console.log(e)})),void r([]);var t},src:"https://www.iconsdb.com/icons/preview/white/delete-xxl.png"})]})}),Object(c.jsxs)("div",{className:"question-and-answer-section1",children:[Object(c.jsx)("div",{className:"question-text1",children:e.questionText}),Object(c.jsxs)("div",{className:"answer-section1 wahniColor",children:[e.options.map((function(e){return Object(c.jsx)("div",{className:"buttonOne",id:h(e,s[t]),children:e})})),j?Object(c.jsx)("div",{className:"buttonOne flexCenter",id:"loadingButton1",children:Object(c.jsx)(O,{width:"15px",borderWidth:"5px"})}):Object(c.jsx)("div",{children:s[t]?Object(c.jsxs)("div",{className:"buttonOne showAnswerButton",id:"answerButton1",children:["Answer is ",s[t]]}):Object(c.jsxs)("div",{className:"buttonOne showAnswerButton",id:"answerButton1",onClick:function(){return n=e.id,c=t,b(!0),void(s[c]?(console.log("not fetching"),b(!1)):u.firestore().doc("answers/".concat(n)).get().then((function(e){var t=e.data().answer,n=s;n[c]=t,r(n),console.log(n),b(!1)})).catch((function(e){window.alert("Unable to get Answer"),b(!1)})));var n,c},children:["Click to See Answer ",s[t]]})})]})]})]})})})):Object(c.jsx)("div",{})})}return Object(c.jsxs)("div",{className:"questionsView",children:[Object(c.jsx)(x,{}),Object(c.jsx)("hr",{})]})},M=n(103),P=n(25);var U=function(){var e=Object(i.useContext)(j).user,t=Object(i.useContext)(Q),n=Object(a.a)(t,2),o=n[0],s=n[1];function r(e,t){u.firestore().collection("questions").add(Object(l.a)(Object(l.a)({},e),{},{createdAt:new Date})).then((function(e){console.log("question added with id:",e.id),u.firestore().doc("answers/".concat(e.id)).set({answer:t,questionId:e.id,createdAt:new Date}).then((function(e){console.log("answer added")})).catch((function(e){window.alert("Unable to add answer")}))})).catch((function(e){window.alert("Unable to add question")}))}return e?"zOOj1gwSb7WQA7dwMBgW2EYJOk52"!==e.id?Object(c.jsx)("h1",{children:"You are not AUTHORIZED"}):Object(c.jsxs)("div",{className:"AdminAppContainer",children:[Object(c.jsx)("div",{className:"questionsMainDiv",children:Object(c.jsx)(L,{allQs:o,setAllQs:s})}),Object(c.jsxs)("div",{className:"formDiv",children:[Object(c.jsx)("p",{className:"formHeader",children:"ADD QUESTIONS"}),Object(c.jsx)(M.a,{initialValues:{questionInput:"",optionA:"",optionB:"",optionC:"",optionD:"",correct:""},onSubmit:function(e){return function(e){var t=function(t){return"A"===t?e.optionA:"B"===t?e.optionB:"C"===t?e.optionC:"D"===t?e.optionD:void 0};o.length>0?(console.log("new index added ".concat(o[0].index+1)),r({questionText:"".concat(e.questionInput),options:["".concat(e.optionA),"".concat(e.optionB),"".concat(e.optionC),"".concat(e.optionD)],index:o[0].index+1},t(e.correct))):r({questionText:"".concat(e.questionInput),options:["".concat(e.optionA),"".concat(e.optionB),"".concat(e.optionC),"".concat(e.optionD)],index:1},t(e.correct))}(e)},validationSchema:P.a().shape({questionInput:P.b().required("*this is a required field"),optionA:P.b().required("*this is a required field"),optionB:P.b().required("*this is a required field"),optionC:P.b().required("*this is a required field"),optionD:P.b().required("*this is a required field"),correct:P.b().required("*choose one option").min(1)}),children:function(e){var t=e.values,n=e.touched,i=e.errors,o=(e.dirty,e.isSubmitting,e.handleChange),s=e.handleBlur,r=e.handleSubmit;e.handleReset;return Object(c.jsxs)("form",{onSubmit:r,children:[Object(c.jsx)("input",{id:"questionInput",placeholder:"Enter the Question",type:"text",value:t.questionInput,onChange:o,onBlur:s,className:i.questionInput&&n.questionInput?"text-input error":"text-input"}),i.questionInput&&n.questionInput&&Object(c.jsx)("div",{className:"input-feedback",children:i.questionInput}),Object(c.jsx)("label",{htmlFor:"optionA",className:"labelHeader",children:"Option A"}),Object(c.jsx)("input",{id:"optionA",placeholder:"Enter option",type:"text",value:t.optionA,onChange:o,onBlur:s}),i.optionA&&n.optionA&&Object(c.jsx)("div",{className:"input-feedback",children:i.optionA}),Object(c.jsx)("label",{htmlFor:"optionB",className:"labelHeader",children:"Option B"}),Object(c.jsx)("input",{id:"optionB",placeholder:"Enter Option",type:"text",value:t.optionB,onChange:o,onBlur:s}),i.optionB&&n.optionB&&Object(c.jsx)("div",{className:"input-feedback",children:i.optionB}),Object(c.jsx)("label",{htmlFor:"optionC",className:"labelHeader",children:"Option C"}),Object(c.jsx)("input",{id:"optionC",placeholder:"Enter option",type:"text",value:t.optionC,onChange:o,onBlur:s}),i.optionC&&n.optionC&&Object(c.jsx)("div",{className:"input-feedback",children:i.optionC}),Object(c.jsx)("label",{htmlFor:"optionD",className:"labelHeader",children:"Option D"}),Object(c.jsx)("input",{id:"optionD",placeholder:"Enter Option",type:"text",value:t.optionD,onChange:o,onBlur:s}),i.optionD&&n.optionD&&Object(c.jsx)("div",{className:"input-feedback",children:i.optionD}),Object(c.jsxs)("select",{name:"correct",value:t.correct,onChange:o,onBlur:s,style:{display:"block"},className:"selector",children:[Object(c.jsx)("option",{value:"",label:"Choose the Right option"}),Object(c.jsx)("option",{value:"A",label:"A"}),Object(c.jsx)("option",{value:"B",label:"B"}),Object(c.jsx)("option",{value:"C",label:"C"}),Object(c.jsx)("option",{value:"D",label:"D"})]}),i.correct&&n.correct&&Object(c.jsx)("div",{className:"input-feedback",children:i.correct}),Object(c.jsx)("button",{type:"submit",className:"submitButton1",children:"Submit"})]})}})]})]}):Object(c.jsx)(f.a,{to:"/myAccount"})},R=(n(241),n(242),n.p+"static/media/wg.5034db2c.png");var F=function(){return Object(c.jsxs)("div",{className:"footerDiv",children:[Object(c.jsx)("div",{className:"footerContain1",children:Object(c.jsx)("img",{src:R,className:"footerLogo",alt:"logo"})}),Object(c.jsx)("div",{className:"footerContain2 wahniColor",children:Object(c.jsxs)("p",{id:"fontResponsive",children:["\u0d2a\u0d30\u0d3e\u0d24\u0d3f\u0d15\u0d7e complaints@wahni.com",Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),"\u0d0e\u0d32\u0d4d\u0d32\u0d3e\u0d35\u0d7c\u0d15\u0d4d\u0d15\u0d41\u0d02 \u0d09\u0d2a\u0d15\u0d3e\u0d30\u0d2a\u0d4d\u0d2a\u0d46\u0d1f\u0d41\u0d28\u0d4d\u0d28\u0d24\u0d30\u0d24\u0d4d\u0d24\u0d3f\u0d7d \u0d09\u0d33\u0d4d\u0d33 \u0d2a\u0d4a\u0d24\u0d41\u0d35\u0d3e\u0d2f \u0d1a\u0d4b\u0d26\u0d4d\u0d2f\u0d19\u0d4d\u0d19\u0d7e http:/ask.wahni.com -\u0d07\u0d7d \u0d1a\u0d4b\u0d26\u0d3f\u0d15\u0d4d\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d24\u0d3e\u0d2f\u0d3f\u0d30\u0d3f\u0d15\u0d4d\u0d15\u0d41\u0d02 \u0d15\u0d42\u0d1f\u0d41\u0d24\u0d7d \u0d28\u0d28\u0d4d\u0d28\u0d3e\u0d35\u0d41\u0d15"]})})]})};var Y=function(){return Object(c.jsxs)(g.a,{children:[Object(c.jsx)(C,{}),Object(c.jsx)(f.d,{children:Object(c.jsxs)(h,{children:[Object(c.jsx)(f.b,{exact:!0,path:"/",component:N}),Object(c.jsx)(f.b,{exact:!0,path:"/myAccount",component:v}),Object(c.jsx)(f.b,{exact:!0,path:"/Quiz",component:A}),Object(c.jsxs)(E,{children:[Object(c.jsx)(f.b,{exact:!0,path:"/Quiz/play",component:B}),Object(c.jsx)(W,{children:Object(c.jsx)(f.b,{exact:!0,path:"/Quiz/add",component:U})})]}),Object(c.jsx)(f.b,{exact:!0,path:"/Quiz/ranking",component:I})]})}),Object(c.jsx)(F,{})]})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,245)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),o(e),s(e)}))};r.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(Y,{})}),document.getElementById("root")),G()},71:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){}},[[243,1,2]]]);
//# sourceMappingURL=main.aebb8c6a.chunk.js.map